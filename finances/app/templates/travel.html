{% from 'partials/_report_header.html' import render_report_header %}
{% from 'partials/_travel_report.html' import render_trip_section_for_category %}

{% extends "base.html" %}

{% block content %}

{% for report in travel_reports %}
<div class="report">
  {{ render_report_header(report) }}

  <div>
    <h3 class="total">
      <b>Total Spent: </b>
      <span style="color: red">{{ report.total }}</span>
    </h3>
  </div>

  <div class="section left">
  {% for category in ['HOUSING', 'TRAVEL', 'LOCAL_TRANSPORTATION'] %}
    {{
      render_trip_section_for_category(
        report.section_for_category(category)
      )
    }}
  {% endfor %}
  </div>

  <div class="section right">
  {% for category in report.trip_transaction_categories() %}
    {% if category not in ['HOUSING', 'TRAVEL', 'LOCAL_TRANSPORTATION'] %}
      {{
        render_trip_section_for_category(
          report.section_for_category(category)
        )
      }}
    {% endif %}
  {% endfor %}
  </div>

</div>
{% endfor %}

{% endblock %}
